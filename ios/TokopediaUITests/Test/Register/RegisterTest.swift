//
//  RegisterTest.swift
//  Tokopedia
//
//  Created by nakama on 8/14/17.
//  Copyright Â© 2017 TOKOPEDIA. All rights reserved.
//

import XCTest

class RegisterTest: XCTestCase {
    
    var login = LoginPage()
    var register =  Register()
    var activation = ActivationAccount()
    var resetPasswordSuccess = ResetPasswordSuccess()
    var more = MorePage()
    var feed = FeedPage()
    
    override func setUp() {
        super.setUp()
        continueAfterFailure = false
        Page.app.launch()
        UITest.sharedInstance.testCase = self
        if onBoarding.isOnBoarding() {
            onBoarding.skipOnBoarding()
        }
        if login.isUserLogin() {
            more.goToLogout().doLogout()
        }
        login.goToRegister()
    }
    
    override func tearDown() {
        super.tearDown()
    }
    
    func testRegister(){
        register.registerWithEmail().fillRegisterForm(email: "autogenerated@okeee.com", name: "auto generated", handphone: "081243243244", password: "autogenerated")
        waitFor(element: activation.accountActivationView, status: .Exists)
        XCTAssert(activation.accountActivationView.exists)
    }

    func testLoginFromRegister() {
        register.registerWithEmail().fillRegisterForm(email: "julius.gonawan+automationbuyer@tokopedia.com", name: "auto generated", handphone: "08121111313", password: "tokopedia2016")
        waitFor(element: feed.feedTab, status: .Exists)
        XCTAssert(feed.feedTab.exists)
    }

    func testResetPasswordRegister() {
        register.registerWithEmail().fillRegisterForm(email: "julius.gonawan+automationbuyer@tokopedia.com", name: "auto generated", handphone: "08121111313", password: "tokopedia201d6")
        waitFor(element: resetPasswordSuccess.resetPasswordView , status: .Exists)
        XCTAssert(resetPasswordSuccess.resetPasswordView.exists)
    }
    
}
